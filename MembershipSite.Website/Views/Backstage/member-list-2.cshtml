@model MemberListViewModel

@section headEnd
{
    <link href="/lib/tabulator-tables/css/tabulator_bootstrap5.css" rel="stylesheet">
}

<h1>Member list</h1>

<div class="btn-group d-flex justify-content-center m-2">
    <button type="button" class="btn btn-outline-primary dropdown-toggle btn-lg" data-bs-toggle="dropdown" aria-expanded="false">
        <i class="bi bi-file-earmark"></i> Export
    </button>
    <div class="dropdown-menu p-2">
        <button class="btn btn-outline-primary w-100 mb-2" id="download-csv">
            <i class="bi bi-file-earmark-spreadsheet"></i> CSV
        </button>
        <button class="btn btn-outline-primary w-100 mb-2" id="download-json">
            <i class="bi bi-file-earmark-code"></i> JSON
        </button>
        <button class="btn btn-outline-primary w-100 mb-2" id="download-xlsx">
            <i class="bi bi-file-earmark-excel"></i> XLSX
        </button>
        <button class="btn btn-outline-primary w-100 mb-2" id="download-pdf">
            <i class="bi bi-file-earmark-pdf"></i> PDF
        </button>
        <button class="btn btn-outline-primary w-100 mb-2" id="download-html">
            <i class="bi bi-file-earmark-text"></i> HTML
        </button>
        <button class="btn btn-outline-primary w-100" id="print-table">
            <i class="bi bi-printer"></i> Print
        </button>
    </div>
</div>

<div id="member-grid" class="mb-5"></div>

<div id="bottom-toolbar" class="position-fixed bottom-0 start-50 translate-middle-x bg-light p-3 shadow-lg rounded w-100">
    <div class="d-flex gap-3">
        <button type="button" class="btn btn-secondary btn-lg w-100" id="cancel-button">
            <i class="bi bi-x-circle"></i> Discard edits
        </button>
        <button type="button" class="btn btn-primary btn-lg w-100" id="save-button">
            <i class="bi bi-save"></i> Apply edits
        </button>
    </div>
</div>

<input type="hidden" id="field-limit-member-number" value="@MemberFieldLimits.MemberNumber" />
<input type="hidden" id="field-limit-name" value="@MemberFieldLimits.Name" />
<input type="hidden" id="field-limit-email" value="@MemberFieldLimits.Email" />

@section scripts
{
    <script type="text/javascript" src="https://oss.sheetjs.com/sheetjs/xlsx.full.min.js"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.4.0/jspdf.umd.min.js"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/jspdf-autotable/3.5.20/jspdf.plugin.autotable.min.js"></script>

    <script type="text/javascript" src="/lib/luxon/luxon.js"></script>
    <script type="text/javascript" src="/lib/tabulator-tables/js/tabulator.js"></script>

    <script src="/js/member-list-2.js"></script>

    <script>
        MembershipSite.MemberAdmin.MemberList2.Init();
    </script>
}
